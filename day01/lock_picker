import os
import re

INPUT_FILE = "input.txt"

if __name__ == "__main__":
    file_path = os.path.join("day01", INPUT_FILE)

    if not os.path.exists(file_path):
        print(f"üõë Error: The required file '{file_path}' was **not found** in the current directory.")
        exit(0)

    print(f"üìÅ Starting to process file: **{file_path}**\n")
    
    try:
        number_of_zeros:int = 0
        lock_points_to:int = 50

        with open(file_path, 'r') as file:
            
            for line in file:
                pattern = r"(\D)(\d+)"

                match = re.match(pattern, line)
    
                if match:
                    char_result = match.group(1)
                    int_result = int(match.group(2)) 
                    
                    direction:int = -1 if (char_result == 'L') else 1
                    step_size = int_result % 100

                    lock_points_to = (lock_points_to + (direction * step_size)) % 100

                    print(f"Lock points to: {lock_points_to}")
                    if lock_points_to == 0:
                        number_of_zeros+=1
                    if lock_points_to < 0:
                        lock_points_to+=100

                else:
                    print(f"\nParsing '{line}'...")
                    print("No match found for the expected format.")
                    break
                                
        print("\n‚úÖ File processing complete.")
        print(f"The combination is: '{number_of_zeros}. Merry Christmas!")
        
    except Exception as e:
        print(f"‚ùå An error occurred during file processing: {e}")